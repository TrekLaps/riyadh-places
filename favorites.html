<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/svg+xml" href="images/icon-192.svg">
  <title>Ø§Ù„Ù…ÙØ¶Ù„Ø© | ÙˆÙŠÙ† Ù†Ø±ÙˆØ­ Ø¨Ø§Ù„Ø±ÙŠØ§Ø¶ØŸ</title>
  <meta name="description" content="Ø£Ù…Ø§ÙƒÙ†Ùƒ Ø§Ù„Ù…ÙØ¶Ù„Ø© ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶. Ø§Ø­ÙØ¸ Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ù„ÙŠ ØªØ¹Ø¬Ø¨Ùƒ ÙˆØ§Ø±Ø¬Ø¹ Ù„Ù‡Ø§ Ø¨Ø³Ù‡ÙˆÙ„Ø©.">
  <meta property="og:title" content="Ø§Ù„Ù…ÙØ¶Ù„Ø© | ÙˆÙŠÙ† Ù†Ø±ÙˆØ­ Ø¨Ø§Ù„Ø±ÙŠØ§Ø¶ØŸ">
  <meta property="og:description" content="Ø£Ù…Ø§ÙƒÙ†Ùƒ Ø§Ù„Ù…ÙØ¶Ù„Ø© ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶. Ø§Ø­ÙØ¸ Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ù„ÙŠ ØªØ¹Ø¬Ø¨Ùƒ ÙˆØ§Ø±Ø¬Ø¹ Ù„Ù‡Ø§ Ø¨Ø³Ù‡ÙˆÙ„Ø©.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://treklaps.github.io/riyadh-places/favorites.html">
  <meta property="og:locale" content="ar_SA">
  <meta property="og:image" content="https://treklaps.github.io/riyadh-places/images/icon-512.svg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Ø§Ù„Ù…ÙØ¶Ù„Ø© | ÙˆÙŠÙ† Ù†Ø±ÙˆØ­ Ø¨Ø§Ù„Ø±ÙŠØ§Ø¶ØŸ">
  <meta name="twitter:description" content="Ø£Ù…Ø§ÙƒÙ†Ùƒ Ø§Ù„Ù…ÙØ¶Ù„Ø© ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶. Ø§Ø­ÙØ¸ Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ù„ÙŠ ØªØ¹Ø¬Ø¨Ùƒ ÙˆØ§Ø±Ø¬Ø¹ Ù„Ù‡Ø§ Ø¨Ø³Ù‡ÙˆÙ„Ø©.">
  <meta name="twitter:image" content="https://treklaps.github.io/riyadh-places/images/icon-512.svg">
  <link rel="canonical" href="https://treklaps.github.io/riyadh-places/favorites.html">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0a1628">
  <!-- Performance: preconnect & preload -->
  <link rel="preconnect" href="https://images.unsplash.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="dns-prefetch" href="https://images.unsplash.com">
  <link rel="preload" href="data/places-light.json" as="fetch" crossorigin>
  <!-- Critical inline CSS for above-the-fold -->
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Tajawal',sans-serif;background:#0a1628;color:#e0e0e0;direction:rtl}
    .header{background:linear-gradient(135deg,#0a1628 0%,#1a2a4a 100%);padding:12px 20px;position:sticky;top:0;z-index:100}
    .header-inner{display:flex;align-items:center;justify-content:space-between;max-width:1400px;margin:auto}
    .logo{text-decoration:none;color:#c9a84c;display:flex;align-items:center;gap:8px}
    .logo h1{font-size:1.2rem;margin:0}
    .cards-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}
    .place-card{background:#111b2e;border-radius:16px;overflow:hidden;transition:transform .2s}
    .place-card-image{height:180px;background:#1a2a4a;position:relative;overflow:hidden}
    .card-image{width:100%;height:100%;object-fit:cover}
    .skeleton{animation:skeleton-pulse 1.5s ease-in-out infinite}
    @keyframes skeleton-pulse{0%,100%{opacity:.4}50%{opacity:.8}}
    .place-card{content-visibility:auto;contain-intrinsic-size:0 420px}
  </style>

  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/ramadan.css">
  <link rel="stylesheet" href="css/search-header.css">
</head>
<body>

  <header class="header">
    <div class="header-inner">
      <a href="index.html" class="logo"><span>ğŸ™ï¸</span><h1>ÙˆÙŠÙ† Ù†Ø±ÙˆØ­ Ø¨Ø§Ù„Ø±ÙŠØ§Ø¶ØŸ</h1></a>
      <button class="dark-mode-toggle" aria-label="Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ">ğŸŒ™</button>
      <button class="menu-toggle" aria-label="Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©">â˜°</button>
      <nav class="nav">
        <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
        <a href="cafes.html">ÙƒØ§ÙÙŠÙ‡Ø§Øª</a>
        <a href="restaurants.html">Ù…Ø·Ø§Ø¹Ù…</a>
        <a href="activities.html">ØªØ±ÙÙŠÙ‡</a>
        <a href="events.html">ÙØ¹Ø§Ù„ÙŠØ§Øª</a>
        <a href="new-places.html">Ø¬Ø¯ÙŠØ¯</a>
        <a href="discover.html">ğŸ² ÙˆÙŠÙ† Ù†Ø±ÙˆØ­ØŸ</a>
        <a href="lists.html">ğŸ“‹ Ù‚ÙˆØ§Ø¦Ù…ÙŠ</a>
        <div class="nav-dropdown">
          <a href="#">Ø§Ù„Ù…Ø²ÙŠØ¯</a>
          <div class="dropdown-menu">
            <a href="shopping.html">ğŸ›ï¸ ØªØ³ÙˆÙ‚</a>
            <a href="nature.html">ğŸï¸ Ø·Ø¨ÙŠØ¹Ø©</a>
            <a href="desserts.html">ğŸ° Ø­Ù„ÙˆÙŠØ§Øª</a>
            <a href="top-rated.html">â­ Ø§Ù„Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹</a>
            <div class="dropdown-divider"></div>
            <a href="events.html">ğŸ‡¸ğŸ‡¦ ÙŠÙˆÙ… Ø§Ù„ØªØ£Ø³ÙŠØ³</a>
            <a href="riyadh-season.html">âœ¨ Ù…ÙˆØ³Ù… Ø§Ù„Ø±ÙŠØ§Ø¶</a>
            <div class="dropdown-divider"></div>
            <div class="dropdown-submenu">
              <a href="#">ğŸ˜ï¸ Ø§Ù„Ø£Ø­ÙŠØ§Ø¡</a>
              <div class="submenu">
                <a href="neighborhood-olaya.html">Ø­ÙŠ Ø§Ù„Ø¹Ù„ÙŠØ§</a>
                <a href="neighborhood-malqa.html">Ø­ÙŠ Ø§Ù„Ù…Ù„Ù‚Ø§</a>
                <a href="neighborhood-hittin.html">Ø­ÙŠ Ø­Ø·ÙŠÙ†</a>
                <a href="neighborhood-yasmin.html">Ø­ÙŠ Ø§Ù„ÙŠØ§Ø³Ù…ÙŠÙ†</a>
                <a href="neighborhood-rabee.html">Ø­ÙŠ Ø§Ù„Ø±Ø¨ÙŠØ¹</a>
              </div>
            </div>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <section class="page-header">
    <h2>â¤ï¸ Ø£Ù…Ø§ÙƒÙ†Ùƒ <span>Ø§Ù„Ù…ÙØ¶Ù„Ø©</span></h2>
    <p>Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ù„ÙŠ Ø­ÙØ¸ØªÙ‡Ø§ â€” Ø§Ø±Ø¬Ø¹ Ù„Ù‡Ø§ Ø¨Ø³Ù‡ÙˆÙ„Ø© ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª</p>
  </section>

  <div class="main-layout" style="grid-template-columns:1fr;">
    <main class="main-content">
      <div class="section-title">
        <div>
          <h2>Ø§Ù„Ù…ÙØ¶Ù„Ø©</h2>
          <span class="subtitle" id="fav-count">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</span>
        </div>
        <button class="btn-outline" id="clear-favs-btn" style="display:none;">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>
      </div>

      <div id="favorites-container">
        <div class="no-results" id="empty-state" style="display:none;">
          <div class="emoji">â¤ï¸</div>
          <h3>Ù…Ø§ Ø¹Ù†Ø¯Ùƒ Ù…ÙØ¶Ù„Ø© Ø¨Ø¹Ø¯</h3>
          <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ â¤ï¸ ÙÙŠ Ø£ÙŠ Ù…ÙƒØ§Ù† Ø¹Ø´Ø§Ù† ØªØ­ÙØ¸Ù‡ Ù‡Ù†Ø§</p>
          <a href="index.html" class="btn-primary" style="margin-top:16px;">Ø§ÙƒØªØ´Ù Ø§Ù„Ø£Ù…Ø§ÙƒÙ†</a>
        </div>
      </div>
    </main>
  </div>

  <footer class="footer">
    <div class="footer-inner">
      <div>
        <h3>ÙˆÙŠÙ† Ù†Ø±ÙˆØ­ Ø¨Ø§Ù„Ø±ÙŠØ§Ø¶ØŸ</h3>
        <p>Ø¯Ù„ÙŠÙ„Ùƒ Ø§Ù„Ø´Ø§Ù…Ù„ Ù„Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ù…Ø§ÙƒÙ† ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶. Ù…Ø­Ø¯Ø« ÙŠÙˆÙ…ÙŠØ§Ù‹.</p>
      </div>
      <div>
        <h3>Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</h3>
        <ul>
          <li><a href="cafes.html">ÙƒØ§ÙÙŠÙ‡Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶</a></li>
          <li><a href="restaurants.html">Ù…Ø·Ø§Ø¹Ù… Ø§Ù„Ø±ÙŠØ§Ø¶</a></li>
          <li><a href="activities.html">ØªØ±ÙÙŠÙ‡ ÙˆØ£Ù†Ø´Ø·Ø©</a></li>
          <li><a href="map.html">ğŸ—ºï¸ Ø§Ù„Ø®Ø±ÙŠØ·Ø©</a></li>
          <li><a href="favorites.html">â¤ï¸ Ø§Ù„Ù…ÙØ¶Ù„Ø©</a></li>
        </ul>
      </div>
      <div>
        <h3>Ø±ÙˆØ§Ø¨Ø· Ù…ÙÙŠØ¯Ø©</h3>
        <ul>
          <li><a href="sitemap.xml">Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹</a></li>
          <li><a href="#">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a></li>
          <li><a href="#">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-heart">ØµÙ†Ø¹ Ø¨Ù€ <span>â¤ï¸</span> ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶</div>
    <div class="footer-bottom"><p>Â© 2025-2026 ÙˆÙŠÙ† Ù†Ø±ÙˆØ­ Ø¨Ø§Ù„Ø±ÙŠØ§Ø¶ØŸ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p></div>
  </footer>

  <button class="scroll-top" id="scrollTop" aria-label="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰">â†‘</button>

  <script defer src="js/darkmode.js"></script>
  <script defer src="js/main.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      const allPlaces = await loadPlaces();
      const container = document.getElementById('favorites-container');
      const emptyState = document.getElementById('empty-state');
      const favCount = document.getElementById('fav-count');
      const clearBtn = document.getElementById('clear-favs-btn');

      function renderFavorites() {
        const favIds = getFavorites();
        const favPlaces = allPlaces.filter(p => favIds.includes(p.id));

        if (favPlaces.length === 0) {
          container.innerHTML = '';
          container.appendChild(emptyState);
          emptyState.style.display = 'block';
          favCount.textContent = 'Ù…Ø§ Ø¹Ù†Ø¯Ùƒ Ù…ÙØ¶Ù„Ø© Ø¨Ø¹Ø¯';
          clearBtn.style.display = 'none';
          return;
        }

        emptyState.style.display = 'none';
        favCount.textContent = `${favPlaces.length} Ù…ÙƒØ§Ù† Ù…Ø­ÙÙˆØ¸`;
        clearBtn.style.display = 'inline-block';

        let html = '<div class="cards-grid">';
        favPlaces.forEach(place => {
          html += generatePlaceCard(place);
        });
        html += '</div>';
        container.innerHTML = html;

        // Add remove-from-favorites functionality
        container.querySelectorAll('.fav-btn').forEach(btn => {
          btn.addEventListener('click', () => {
            toggleFavorite(btn.dataset.id);
            renderFavorites();
          });
        });
      }

      clearBtn.addEventListener('click', () => {
        if (confirm('Ù…ØªØ£ÙƒØ¯ ØªØ¨ÙŠ ØªÙ…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ù…ÙØ¶Ù„Ø©ØŸ')) {
          localStorage.removeItem('wain_favorites');
          renderFavorites();
        }
      });

      renderFavorites();

      // Listen for favorite changes from other tabs
      window.addEventListener('storage', (e) => {
        if (e.key === 'wain_favorites') renderFavorites();
      });
    });
  </script>
  <script>
    document.querySelectorAll('.nav-dropdown > a').forEach(a => {
      a.addEventListener('click', (e) => {
        if (window.innerWidth <= 768) {
          e.preventDefault();
          a.parentElement.classList.toggle('open');
        }
      });
    });
    document.querySelectorAll('.dropdown-submenu > a').forEach(a => {
      a.addEventListener('click', (e) => {
        if (window.innerWidth <= 768) {
          e.preventDefault();
          a.nextElementSibling.style.display = a.nextElementSibling.style.display === 'block' ? 'none' : 'block';
        }
      });
    });
  </script>
  <script defer src="js/lists.js"></script>
  <script src="js/analytics.js" defer></script>
  <script src="js/ramadan.js" defer></script>
  <script>
    if('serviceWorker' in navigator){navigator.serviceWorker.register('sw.js').catch(function(){});}
  </script>
</body>
</html>
